<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Click Countryballs: Ultimate</title>
    <style>
        :root { --panel: #1e293b; --bg: #020617; --gold: #fbbf24; --green: #22c55e; }
        body {
            margin: 0; display: flex; height: 100vh;
            background: var(--bg); color: white;
            font-family: 'Segoe UI', sans-serif; overflow: hidden; user-select: none;
        }

        /* Sidebar */
        .sidebar {
            width: 320px; background: rgba(0,0,0,0.8);
            border-right: 3px solid #334155; padding: 20px;
            display: flex; flex-direction: column; gap: 15px; z-index: 10;
        }
        .main-game {
            flex-grow: 1; display: flex; flex-direction: column;
            align-items: center; justify-content: center; position: relative;
        }

        /* The Ball & Animations */
        @keyframes float { 0%, 100% { transform: translateY(0) rotate(0); } 50% { transform: translateY(-15px) rotate(2deg); } }
        .ball-container {
            position: relative; width: 300px; height: 300px;
            animation: float 3s ease-in-out infinite;
            transition: transform 0.05s; cursor: pointer;
        }
        .ball-container:active { transform: scale(0.85); animation: none; }
        #country-flag {
            width: 100%; height: 100%; border-radius: 50%;
            border: 8px solid #fff; object-fit: cover;
            box-shadow: 0 0 60px rgba(0,0,0,0.9);
        }

        /* Eyes */
        .eyes { position: absolute; top: 35%; width: 100%; display: flex; justify-content: center; gap: 50px; }
        .eye { width: 45px; height: 55px; background: white; border-radius: 50%; border: 5px solid #000; }

        /* Shop & About UI */
        .card { background: var(--panel); padding: 15px; border-radius: 12px; border: 1px solid #475569; }
        button {
            width: 100%; padding: 12px; border-radius: 8px; border: none;
            background: var(--green); color: white; font-weight: bold; cursor: pointer; margin-top: 8px;
        }
        button:disabled { background: #475569; opacity: 0.5; }
        
        .about-section { font-size: 0.85rem; color: #94a3b8; line-height: 1.4; border-top: 1px solid #334155; padding-top: 10px; }

        /* Popups */
        .popup {
            position: absolute; color: var(--gold); font-weight: 900;
            pointer-events: none; animation: popGo 0.6s forwards; font-size: 2rem;
        }
        @keyframes popGo { to { opacity: 0; transform: translateY(-150px) scale(2); } }

        .score-area { text-align: center; margin-bottom: 30px; }
        #location-name { font-size: 1.5rem; letter-spacing: 5px; color: #64748b; cursor: help; }

        /* Owner Panel */
        #owner-panel {
            position: absolute; top: 20px; right: 20px; background: #7f1d1d; 
            padding: 15px; border-radius: 10px; display: none; border: 2px solid white; z-index: 100;
        }
    </style>
</head>
<body>

    <div id="owner-panel">
        <strong>OWNER MODS</strong><br><br>
        <button onclick="cheat(50000)">+50k Bux</button>
        <button onclick="resetAll()" style="background: #000;">Nuclear Reset</button>
        <button onclick="document.getElementById('owner-panel').style.display='none'">Exit</button>
    </div>

    <div class="sidebar">
        <h2 style="margin:0; color:var(--gold)">Market</h2>
        
        <div class="card">
            <strong>Infinite Strength</strong>
            <div style="font-size: 0.8rem; color: #94a3b8;">Increases click & auto value</div>
            <button id="buy-pwr">Upgrade ($<span id="pwr-cost">15</span>)</button>
        </div>

        <div class="card">
            <strong>Auto-Laborers (+10)</strong>
            <div style="font-size: 0.8rem; color: #94a3b8;">Clicks 5x per second!</div>
            <button id="buy-auto">Hire ($<span id="auto-cost">100</span>)</button>
        </div>

        <div class="about-section">
            <strong>About Click Countryballs</strong><br>
            Dalton created this game hes turning 6 or 7 years old.
        </div>

        <div style="margin-top:auto">
            <small>SAVES</small>
            <div style="display:flex; gap:5px">
                <button onclick="changeSlot(1)" id="s1">1</button>
                <button onclick="changeSlot(2)" id="s2">2</button>
                <button onclick="changeSlot(3)" id="s3">3</button>
            </div>
        </div>
    </div>

    <div class="main-game">
        <div class="score-area">
            <div id="location-name" onclick="showOwner()">USA</div>
            <div style="font-size: 5rem; font-weight: 900; color: var(--gold);">
                <span id="score-val">0</span>
            </div>
            <div style="color: #64748b;">Countrybux</div>
        </div>

        <div class="ball-container" id="ball">
            <img id="country-flag" src="https://flagpedia.net/data/flags/w580/us.png">
            <div class="eyes">
                <div class="eye"></div>
                <div class="eye"></div>
            </div>
        </div>
    </div>

    <script>
        // SOUNDS
        const sfx_click = new Audio('https://www.soundjay.com/buttons/sounds/button-37a.mp3');
        const sfx_buy = new Audio('https://www.soundjay.com/buttons/sounds/button-09a.mp3');

        let currentSlot = 1;
        let data = { score: 0, power: 1, pwrCost: 15, auto: 0, autoCost: 100 };

        const locs = [
            "us", "gb", "ca", "au", "de", "fr", "it", "jp", "cn", "ru", "br", "mx", 
            "es", "pl", "ua", "tr", "kr", "se", "no", "fi", "dk", "us-tx", "us-ca", "us-ny"
        ];

        function save() { localStorage.setItem(`dalton_save_${currentSlot}`, JSON.stringify(data)); }
        
        function changeSlot(n) {
            currentSlot = n;
            const saved = localStorage.getItem(`dalton_save_${currentSlot}`);
            data = saved ? JSON.parse(saved) : { score: 0, power: 1, pwrCost: 15, auto: 0, autoCost: 100 };
            document.querySelectorAll('[id^="s"]').forEach((b, i) => b.style.background = (i+1)===n ? '#3b82f6' : '#334155');
            refresh();
        }

        function refresh() {
            document.getElementById('score-val').textContent = Math.floor(data.score).toLocaleString();
            document.getElementById('pwr-cost').textContent = data.pwrCost.toLocaleString();
            document.getElementById('auto-cost').textContent = data.autoCost.toLocaleString();
            
            document.getElementById('buy-pwr').disabled = data.score < data.pwrCost;
            document.getElementById('buy-auto').disabled = data.score < data.autoCost;

            // Change country every 500 Bux
            let idx = Math.min(Math.floor(data.score / 500), locs.length - 1);
            document.getElementById('country-flag').src = `https://flagpedia.net/data/flags/w580/${locs[idx]}.png`;
            document.getElementById('location-name').textContent = locs[idx].toUpperCase();
        }

        document.getElementById('ball').addEventListener('click', (e) => {
            data.score += data.power;
            sfx_click.currentTime = 0; sfx_click.play();
            spawnPopup(e.clientX, e.clientY, data.power);
            refresh(); save();
        });

        document.getElementById('buy-pwr').addEventListener('click', () => {
            if(data.score >= data.pwrCost) {
                data.score -= data.pwrCost;
                data.power++;
                data.pwrCost = Math.round(data.pwrCost * 1.5);
                sfx_buy.play(); refresh(); save();
            }
        });

        document.getElementById('buy-auto').addEventListener('click', () => {
            if(data.score >= data.autoCost) {
                data.score -= data.autoCost;
                data.auto += 10; // ADD 10 EACH TIME
                data.autoCost = Math.round(data.autoCost * 1.7);
                sfx_buy.play(); refresh(); save();
            }
        });

        function spawnPopup(x, y, val) {
            const p = document.createElement('div');
            p.className = 'popup';
            p.style.left = x + 'px'; p.style.top = y + 'px';
            p.innerText = `+$${val}`;
            document.body.appendChild(p);
            setTimeout(() => p.remove(), 600);
        }

        // AUTO CLICKER: Runs 5 times per second
        // Power is multiplied by Click Strength to keep it useful!
        setInterval(() => {
            if(data.auto > 0) {
                data.score += (data.auto * data.power) / 5;
                refresh();
            }
        }, 200);

        function showOwner() { document.getElementById('owner-panel').style.display = 'block'; }
        function cheat(n) { data.score += n; sfx_buy.play(); refresh(); save(); }
        function resetAll() { if(confirm("Erase EVERYTHING?")) { localStorage.clear(); location.reload(); } }

        changeSlot(1);
    </script>
</body>
</html>
